{% extends "base.html" %}
{% block content %}
<h2>Search</h2>
<form method="GET" action="{{ url_for('search') }}">
    <input type="text" name="q" value="{{ query }}" placeholder="Search keyword">
    <button type="submit">Search</button>
</form>

{% if query %}
    <h3>Results for "{{ query }}"</h3>
    {% if results %}
        <ul>
{% for row in results %}
<li>
    <b>{{ row['name'] }}</b> [{{ row['language'] }}]: <br>
    {{ row['text_value'] }} <br>

    {% if row['audio_path'] %}
        <audio controls src="{{ row['audio_path'] }}"></audio><br>
    {% endif %}
    {% if row['image_path'] %}
        <img src="{{ row['image_path'] }}" class="img-fluid" style="max-width:300px;"><br>
    {% endif %}
    {% if row['video_path'] %}
        <video controls src="{{ row['video_path'] }}" style="max-width:300px;"></video><br>
    {% endif %}
</li>
{% endfor %}
        </ul>
    {% else %}
        <p>No results found.</p>
    {% endif %}
{% endif %}
{% endblock %}
